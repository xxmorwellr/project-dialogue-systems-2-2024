{"version":3,"file":"SpeechGrammarList.js","names":["_referenceGrammar","_words","Error","nextReferenceGrammar","nextWords","Array","isArray","referenceGrammar","words","speechContext","updateIn","groups","Type","Hints","ReferenceGrammar","length","Items","map","word","Text"],"sources":["../../../src/BingSpeech/SpeechToText/SpeechGrammarList.js"],"sourcesContent":["import updateIn from 'simple-update-in';\n\nexport default class {\n  constructor() {\n    this._referenceGrammar = null;\n    this._words = [];\n  }\n\n  addFromString() {\n    throw new Error('JSGF is not supported');\n  }\n\n  get referenceGrammar() { return this._referenceGrammar; }\n  set referenceGrammar(nextReferenceGrammar) {\n    if (typeof nextReferenceGrammar !== 'string') {\n      throw new Error('referenceGrammar must be a string');\n    }\n\n    this._referenceGrammar = nextReferenceGrammar;\n  }\n\n  get words() { return this._words; }\n  set words(nextWords) {\n    if (!Array.isArray(nextWords)) {\n      throw new Error('words must be an Array');\n    }\n\n    this._words = nextWords;\n  }\n\n  createSpeechContext() {\n    const { referenceGrammar, words } = this;\n    let speechContext;\n\n    if (referenceGrammar) {\n      speechContext = updateIn(speechContext, ['dgi', 'Groups'], (groups = []) => [...groups, {\n        Type: 'Generic',\n        Hints: { ReferenceGrammar: referenceGrammar }\n      }]);\n    }\n\n    if (words && words.length) {\n      speechContext = updateIn(speechContext, ['dgi', 'Groups'], (groups = []) => [...groups, {\n        Type: 'Generic',\n        Items: words.map(word => ({ Text: word }))\n      }]);\n    }\n\n    return speechContext;\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;AAAA;;;EAGE,oBAAc;IAAA;IACZ,KAAKA,iBAAL,GAAyB,IAAzB;IACA,KAAKC,MAAL,GAAc,EAAd;EACD;;;;WAED,yBAAgB;MACd,MAAM,IAAIC,KAAJ,CAAU,uBAAV,CAAN;IACD;;;SAED,eAAuB;MAAE,OAAO,KAAKF,iBAAZ;IAAgC,C;SACzD,aAAqBG,oBAArB,EAA2C;MACzC,IAAI,OAAOA,oBAAP,KAAgC,QAApC,EAA8C;QAC5C,MAAM,IAAID,KAAJ,CAAU,mCAAV,CAAN;MACD;;MAED,KAAKF,iBAAL,GAAyBG,oBAAzB;IACD;;;SAED,eAAY;MAAE,OAAO,KAAKF,MAAZ;IAAqB,C;SACnC,aAAUG,SAAV,EAAqB;MACnB,IAAI,CAACC,KAAK,CAACC,OAAN,CAAcF,SAAd,CAAL,EAA+B;QAC7B,MAAM,IAAIF,KAAJ,CAAU,wBAAV,CAAN;MACD;;MAED,KAAKD,MAAL,GAAcG,SAAd;IACD;;;WAED,+BAAsB;MACpB,IAAQG,gBAAR,GAAoC,IAApC,CAAQA,gBAAR;MAAA,IAA0BC,KAA1B,GAAoC,IAApC,CAA0BA,KAA1B;MACA,IAAIC,aAAJ;;MAEA,IAAIF,gBAAJ,EAAsB;QACpBE,aAAa,GAAG,IAAAC,uBAAA,EAASD,aAAT,EAAwB,CAAC,KAAD,EAAQ,QAAR,CAAxB,EAA2C;UAAA,IAACE,MAAD,uEAAU,EAAV;UAAA,kDAAqBA,MAArB,IAA6B;YACtFC,IAAI,EAAE,SADgF;YAEtFC,KAAK,EAAE;cAAEC,gBAAgB,EAAEP;YAApB;UAF+E,CAA7B;QAAA,CAA3C,CAAhB;MAID;;MAED,IAAIC,KAAK,IAAIA,KAAK,CAACO,MAAnB,EAA2B;QACzBN,aAAa,GAAG,IAAAC,uBAAA,EAASD,aAAT,EAAwB,CAAC,KAAD,EAAQ,QAAR,CAAxB,EAA2C;UAAA,IAACE,MAAD,uEAAU,EAAV;UAAA,kDAAqBA,MAArB,IAA6B;YACtFC,IAAI,EAAE,SADgF;YAEtFI,KAAK,EAAER,KAAK,CAACS,GAAN,CAAU,UAAAC,IAAI;cAAA,OAAK;gBAAEC,IAAI,EAAED;cAAR,CAAL;YAAA,CAAd;UAF+E,CAA7B;QAAA,CAA3C,CAAhB;MAID;;MAED,OAAOT,aAAP;IACD"}