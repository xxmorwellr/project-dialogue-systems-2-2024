{"version":3,"file":"fetchAuthorizationToken.js","names":["TOKEN_URL_TEMPLATE","region","subscriptionKey","fetch","replace","headers","method","res","ok","Error","status","text"],"sources":["../../src/SpeechServices/fetchAuthorizationToken.js"],"sourcesContent":["const TOKEN_URL_TEMPLATE = 'https://{region}.api.cognitive.microsoft.com/sts/v1.0/issueToken';\n\nexport default async function ({ region, subscriptionKey }) {\n  const res = await fetch(\n    TOKEN_URL_TEMPLATE.replace(/\\{region\\}/u, region),\n    {\n      headers: {\n        'Ocp-Apim-Subscription-Key': subscriptionKey\n      },\n      method: 'POST'\n    }\n  );\n\n  if (!res.ok) {\n    throw new Error(`Failed to fetch authorization token, server returned ${ res.status }`);\n  }\n\n  return res.text();\n}\n"],"mappings":";;;;;;;;;;;;;AAAA,IAAMA,kBAAkB,GAAG,kEAA3B;;;;;;;kFAEe;IAAA;IAAA;MAAA;QAAA;UAAA;YAAkBC,MAAlB,QAAkBA,MAAlB,EAA0BC,eAA1B,QAA0BA,eAA1B;YAAA;YAAA,OACKC,KAAK,CACrBH,kBAAkB,CAACI,OAAnB,CAA2B,YAA3B,EAA0CH,MAA1C,CADqB,EAErB;cACEI,OAAO,EAAE;gBACP,6BAA6BH;cADtB,CADX;cAIEI,MAAM,EAAE;YAJV,CAFqB,CADV;;UAAA;YACPC,GADO;;YAAA,IAWRA,GAAG,CAACC,EAXI;cAAA;cAAA;YAAA;;YAAA,MAYL,IAAIC,KAAJ,gEAAmEF,GAAG,CAACG,MAAvE,EAZK;;UAAA;YAAA,iCAeNH,GAAG,CAACI,IAAJ,EAfM;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,C"}